---
title: "Zoom Notes: Selecting and Filtering Data"
date: "Semester 1, 2022"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    code_download: true
    code_folding: show
---

```{r setup, include=FALSE}
library(knitr)

knitr::opts_chunk$set(
  comment = "#>",
  fig.path = "figures/", # use only for single Rmd files
  collapse = TRUE,
  echo = TRUE
)
```

> #### Associated Material
>
> Module: [Module 03 - Subsetting](03-subset.html)
>
> Reading:
>
> - [R for Data Science - Chapter 5](https://r4ds.had.co.nz/transform.html)


----

planning to cover:



### Base R

- `$`
- `[,]`
- nrow/ncol
- class

subsetting using

  - names
  - index
  - conditional
  - %in%

missing data

### dplyr

pipes %>% 

- select
  - select helpers (possibly)

- filter
  - between


## Modifying

- mutate
- arrange
- group_by
- summarise


dplyr %>% ggplot
----



## Vector subsetting

In the [first week](handout1.html) we touched on vectors and using the `[]` to extract items out based on an index. We're now going to expand on this idea but for our dataframes.

Often it's fairly laborious to work out exactly which index corresponds to the data you're interested in. Usually we're more interested in data that meets certain _conditions_. Instead of sub-setting by indices, we can do conditional sub-setting.


### Conditional subsetting

Lets create an example vector to work use
```{r}
nums <- c(1, 2, 3, 4, 5, 6)

nums
```

Similar to sub-setting by index, we can provide a vector of booleans (`TRUE`/`FALSE`) to `[]` to specify which elements to keep.

```{r}
nums[c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)]
```



We can apply mathematical operators and our comparative operators to entire vectors. When using a comparator we get back a vector of equal length of booleans.

```{r}
nums < 4
```

We can use this vector to filter our vectors to keep only the values that returned `TRUE`.

```{r}
nums[nums < 4]
```


## Dataframe subsetting 

Data frame subsetting is extremely similar to vector subsetting, but instead of 1-dimension, we now provide 2 arguments to `[]`, one for the rows, and one for the columns e.g. `my_dataframe[rows, cols]`. If you leave the rows argument blank, R will give you back all rows (`my_dataframe[, cols]`), and similarly leaving the columns argument blank will return all columns (`my_dataframe[rows,]`)

It's important to note, that using `[]` will may not return the data back in a structure you were expecting - you will get a data frame back unless you subset to a single column in which case you will get back a vector.

```{r}
# example of subsetting using [,]
```






